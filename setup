#!/bin/bash

sudo chmod +x main
sudo chmod +x remove
./main
sudo touch /bin/startupinfo
sudo chmod +x /bin/startupinfo
sudo bash -c 'cat <<EOF > /bin/startupinfo.sh
#!/bin/bash

a1 = 1
read -p "Command: " command
if [ "\$command" = "halt" ]; then
  if [ $a1 = 1 ]; then
    a=15
    while [ \$a -gt 0 ]; do
      sed -i "$ d" ~/.bashrc
      a=\$((a-1))
    done
  a1=0
  fi
elif [ "\$command" = "run" ]; then
  if [ $a1 = 0 ]; then
    {
      echo $(# .startupinfo v1.2)
      echo $(i="\$(whoami)@\$(uname -n))
      echo $(length=\${#i})
      echo $(after="")
      echo $(clear)
      echo $(echo \$i)
      echo $(while [ \$length -gt 0 ]; do)
      echo $(  after+=-)
      echo $(  length=\$((length-1)))
      echo $(done)
      echo $(echo \$after)
      echo $(echo "OS:             \$(uname -o)")
      echo $(echo "Processor:      \$(uname -p)")
      echo $(echo "Hardware Info:  \$(uname -m)")
      echo $(echo "Kernel Name:    \$(uname)")
      echo $(echo "Kernel Version: \$(uname -v)")
      echo $(echo "Kernel Release: \$(uname -r)")
    } >> ~/.bashrc
    a1=1
  fi
fi
EOF'
